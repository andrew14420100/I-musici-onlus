{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":47,"index":207}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":208},"end":{"line":4,"column":40,"index":248}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":333},"end":{"line":7,"column":51,"index":384}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoWebBrowser = require(_dependencyMap[3], \"expo-web-browser\");\n  var WebBrowser = _interopNamespace(_expoWebBrowser);\n  var _expoLinking = require(_dependencyMap[4], \"expo-linking\");\n  var Linking = _interopNamespace(_expoLinking);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesApi = require(_dependencyMap[6], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useAuth = () => {\n    _s();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  const AuthProvider = ({\n    children\n  }) => {\n    _s2();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const [selectedRole, setSelectedRole] = (0, _react.useState)(null);\n    const [selectedInstrument, setSelectedInstrument] = (0, _react.useState)(null);\n    const processSessionId = async (sessionId, role, instrument) => {\n      try {\n        console.log('Processing session ID with role:', role, 'instrument:', instrument);\n\n        // Get role and instrument from storage if not provided\n        let roleToUse = role;\n        let instrumentToUse = instrument;\n        if (!roleToUse) {\n          roleToUse = (await AsyncStorage.default.getItem('pending_role')) || 'studente';\n        }\n        if (!instrumentToUse) {\n          instrumentToUse = (await AsyncStorage.default.getItem('pending_instrument')) || undefined;\n        }\n        const response = await _servicesApi.authApi.exchangeSession(sessionId, roleToUse, instrumentToUse || undefined);\n        if (response.session_token) {\n          await AsyncStorage.default.setItem('session_token', response.session_token);\n          await AsyncStorage.default.removeItem('pending_role');\n          await AsyncStorage.default.removeItem('pending_instrument');\n          setUser(response.user);\n\n          // Seed database with sample data\n          try {\n            await _servicesApi.seedApi.seed();\n            console.log('Database seeded');\n          } catch (e) {\n            console.log('Seed skipped or already done');\n          }\n        }\n      } catch (error) {\n        console.error('Error processing session:', error);\n      }\n    };\n    const checkExistingSession = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          const userData = await _servicesApi.authApi.getMe();\n          setUser(userData);\n        }\n      } catch (error) {\n        console.log('No existing session');\n        await AsyncStorage.default.removeItem('session_token');\n      }\n    };\n    (0, _react.useEffect)(() => {\n      const init = async () => {\n        setIsLoading(true);\n\n        // Check for session_id in URL (web)\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n          const hash = window.location.hash;\n          const sessionIdMatch = hash.match(/session_id=([^&]+)/);\n          if (sessionIdMatch) {\n            await processSessionId(sessionIdMatch[1]);\n            window.history.replaceState({}, document.title, window.location.pathname);\n          } else {\n            await checkExistingSession();\n          }\n        } else {\n          // Mobile: check for initial URL\n          const initialUrl = await Linking.getInitialURL();\n          if (initialUrl) {\n            const sessionIdMatch = initialUrl.match(/session_id=([^&]+)/);\n            if (sessionIdMatch) {\n              await processSessionId(sessionIdMatch[1]);\n            } else {\n              await checkExistingSession();\n            }\n          } else {\n            await checkExistingSession();\n          }\n        }\n        setIsLoading(false);\n      };\n      init();\n    }, []);\n    const login = async (role, instrument) => {\n      // Store the selected role and instrument for after auth redirect\n      const roleToUse = role || selectedRole || 'studente';\n      const instrumentToUse = instrument || selectedInstrument;\n      await AsyncStorage.default.setItem('pending_role', roleToUse);\n      if (instrumentToUse) {\n        await AsyncStorage.default.setItem('pending_instrument', instrumentToUse);\n      }\n      const redirectUrl = Platform.default.OS === 'web' ? `${BACKEND_URL}/` : Linking.createURL('/');\n      const authUrl = `https://auth.emergentagent.com/?redirect=${encodeURIComponent(redirectUrl)}`;\n      if (Platform.default.OS === 'web') {\n        window.location.href = authUrl;\n      } else {\n        const result = await WebBrowser.openAuthSessionAsync(authUrl, redirectUrl);\n        if (result.type === 'success' && result.url) {\n          const sessionIdMatch = result.url.match(/session_id=([^&]+)/);\n          if (sessionIdMatch) {\n            setIsLoading(true);\n            await processSessionId(sessionIdMatch[1], roleToUse, instrumentToUse || undefined);\n            setIsLoading(false);\n          }\n        }\n      }\n    };\n    const logout = async () => {\n      try {\n        await _servicesApi.authApi.logout();\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('pending_role');\n      await AsyncStorage.default.removeItem('pending_instrument');\n      setUser(null);\n      setSelectedRole(null);\n      setSelectedInstrument(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const userData = await _servicesApi.authApi.getMe();\n        setUser(userData);\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        selectedRole,\n        selectedInstrument,\n        setSelectedRole,\n        setSelectedInstrument,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(AuthProvider, \"1IXIE6hG8UyksLeFhyddVgzTsa0=\");\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":218,"map":[[30,2,26,0,"Object"],[30,8,26,0],[30,9,26,0,"defineProperty"],[30,23,26,0],[30,24,26,0,"exports"],[30,31,26,0],[31,4,26,0,"enumerable"],[31,14,26,0],[32,4,26,0,"get"],[32,7,26,0],[32,18,26,0,"get"],[32,19,26,0],[33,6,26,0],[33,13,26,0,"useAuth"],[33,20,26,0],[34,4,26,0],[35,2,26,0],[36,2,38,0,"Object"],[36,8,38,0],[36,9,38,0,"defineProperty"],[36,23,38,0],[36,24,38,0,"exports"],[36,31,38,0],[37,4,38,0,"enumerable"],[37,14,38,0],[38,4,38,0,"get"],[38,7,38,0],[38,18,38,0,"get"],[38,19,38,0],[39,6,38,0],[39,13,38,0,"AuthProvider"],[39,25,38,0],[40,4,38,0],[41,2,38,0],[42,2,201,2],[42,6,201,2,"_expoVirtualEnv"],[42,21,201,2],[42,24,201,2,"require"],[42,31,201,2],[42,32,201,2,"_dependencyMap"],[42,46,201,2],[43,2,1,0],[43,6,1,0,"_react"],[43,12,1,0],[43,15,1,0,"require"],[43,22,1,0],[43,23,1,0,"_dependencyMap"],[43,37,1,0],[44,2,2,0],[44,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[44,42,2,0],[44,45,2,0,"require"],[44,52,2,0],[44,53,2,0,"_dependencyMap"],[44,67,2,0],[45,2,2,0],[45,6,2,0,"AsyncStorage"],[45,18,2,0],[45,21,2,0,"_interopDefault"],[45,36,2,0],[45,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[45,73,2,0],[46,2,3,0],[46,6,3,0,"_expoWebBrowser"],[46,21,3,0],[46,24,3,0,"require"],[46,31,3,0],[46,32,3,0,"_dependencyMap"],[46,46,3,0],[47,2,3,0],[47,6,3,0,"WebBrowser"],[47,16,3,0],[47,19,3,0,"_interopNamespace"],[47,36,3,0],[47,37,3,0,"_expoWebBrowser"],[47,52,3,0],[48,2,4,0],[48,6,4,0,"_expoLinking"],[48,18,4,0],[48,21,4,0,"require"],[48,28,4,0],[48,29,4,0,"_dependencyMap"],[48,43,4,0],[49,2,4,0],[49,6,4,0,"Linking"],[49,13,4,0],[49,16,4,0,"_interopNamespace"],[49,33,4,0],[49,34,4,0,"_expoLinking"],[49,46,4,0],[50,2,4,40],[50,6,4,40,"_reactNativeWebDistExportsPlatform"],[50,40,4,40],[50,43,4,40,"require"],[50,50,4,40],[50,51,4,40,"_dependencyMap"],[50,65,4,40],[51,2,4,40],[51,6,4,40,"Platform"],[51,14,4,40],[51,17,4,40,"_interopDefault"],[51,32,4,40],[51,33,4,40,"_reactNativeWebDistExportsPlatform"],[51,67,4,40],[52,2,7,0],[52,6,7,0,"_servicesApi"],[52,18,7,0],[52,21,7,0,"require"],[52,28,7,0],[52,29,7,0,"_dependencyMap"],[52,43,7,0],[53,2,7,51],[53,6,7,51,"_reactJsxDevRuntime"],[53,25,7,51],[53,28,7,51,"require"],[53,35,7,51],[53,36,7,51,"_dependencyMap"],[53,50,7,51],[54,2,9,0],[54,8,9,6,"BACKEND_URL"],[54,19,9,17],[54,22,9,20,"_expoVirtualEnv"],[54,37,9,20],[54,38,9,20,"env"],[54,41,9,20],[54,42,9,20,"EXPO_PUBLIC_BACKEND_URL"],[54,65,9,20],[54,69,9,59],[54,71,9,61],[55,2,24,0],[55,8,24,6,"AuthContext"],[55,19,24,17],[55,35,24,20],[55,39,24,20,"createContext"],[55,45,24,33],[55,46,24,33,"createContext"],[55,59,24,33],[55,61,24,63,"undefined"],[55,70,24,72],[55,71,24,73],[56,2,26,7],[56,8,26,13,"useAuth"],[56,15,26,20],[56,18,26,23,"useAuth"],[56,19,26,23],[56,24,26,29],[57,4,26,29,"_s"],[57,6,26,29],[58,4,27,2],[58,10,27,8,"context"],[58,17,27,15],[58,20,27,18],[58,24,27,18,"useContext"],[58,30,27,28],[58,31,27,28,"useContext"],[58,41,27,28],[58,43,27,29,"AuthContext"],[58,54,27,40],[58,55,27,41],[59,4,28,2],[59,8,28,6],[59,9,28,7,"context"],[59,16,28,14],[59,18,28,16],[60,6,29,4],[60,12,29,10],[60,16,29,14,"Error"],[60,21,29,19],[60,22,29,20],[60,67,29,65],[60,68,29,66],[61,4,30,2],[62,4,31,2],[62,11,31,9,"context"],[62,18,31,16],[63,2,32,0],[63,3,32,1],[64,2,32,2,"_s"],[64,4,32,2],[64,5,26,13,"useAuth"],[64,12,26,20],[65,2,38,7],[65,8,38,13,"AuthProvider"],[65,20,38,54],[65,23,38,57,"AuthProvider"],[65,24,38,58],[66,4,38,60,"children"],[67,2,38,69],[67,3,38,70],[67,8,38,75],[68,4,38,75,"_s2"],[68,7,38,75],[69,4,39,2],[69,10,39,8],[69,11,39,9,"user"],[69,15,39,13],[69,17,39,15,"setUser"],[69,24,39,22],[69,25,39,23],[69,28,39,26],[69,32,39,26,"useState"],[69,38,39,34],[69,39,39,34,"useState"],[69,47,39,34],[69,49,39,48],[69,53,39,52],[69,54,39,53],[70,4,40,2],[70,10,40,8],[70,11,40,9,"isLoading"],[70,20,40,18],[70,22,40,20,"setIsLoading"],[70,34,40,32],[70,35,40,33],[70,38,40,36],[70,42,40,36,"useState"],[70,48,40,44],[70,49,40,44,"useState"],[70,57,40,44],[70,59,40,45],[70,63,40,49],[70,64,40,50],[71,4,41,2],[71,10,41,8],[71,11,41,9,"selectedRole"],[71,23,41,21],[71,25,41,23,"setSelectedRole"],[71,40,41,38],[71,41,41,39],[71,44,41,42],[71,48,41,42,"useState"],[71,54,41,50],[71,55,41,50,"useState"],[71,63,41,50],[71,65,41,66],[71,69,41,70],[71,70,41,71],[72,4,42,2],[72,10,42,8],[72,11,42,9,"selectedInstrument"],[72,29,42,27],[72,31,42,29,"setSelectedInstrument"],[72,52,42,50],[72,53,42,51],[72,56,42,54],[72,60,42,54,"useState"],[72,66,42,62],[72,67,42,62,"useState"],[72,75,42,62],[72,77,42,78],[72,81,42,82],[72,82,42,83],[73,4,44,2],[73,10,44,8,"processSessionId"],[73,26,44,24],[73,29,44,27],[73,35,44,27,"processSessionId"],[73,36,44,34,"sessionId"],[73,45,44,51],[73,47,44,53,"role"],[73,51,44,66],[73,53,44,68,"instrument"],[73,63,44,87],[73,68,44,92],[74,6,45,4],[74,10,45,8],[75,8,46,6,"console"],[75,15,46,13],[75,16,46,14,"log"],[75,19,46,17],[75,20,46,18],[75,54,46,52],[75,56,46,54,"role"],[75,60,46,58],[75,62,46,60],[75,75,46,73],[75,77,46,75,"instrument"],[75,87,46,85],[75,88,46,86],[77,8,48,6],[78,8,49,6],[78,12,49,10,"roleToUse"],[78,21,49,19],[78,24,49,22,"role"],[78,28,49,26],[79,8,50,6],[79,12,50,10,"instrumentToUse"],[79,27,50,25],[79,30,50,28,"instrument"],[79,40,50,38],[80,8,52,6],[80,12,52,10],[80,13,52,11,"roleToUse"],[80,22,52,20],[80,24,52,22],[81,10,53,8,"roleToUse"],[81,19,53,17],[81,22,53,20],[81,29,53,26,"AsyncStorage"],[81,41,53,38],[81,42,53,38,"default"],[81,49,53,38],[81,50,53,39,"getItem"],[81,57,53,46],[81,58,53,47],[81,72,53,61],[81,73,53,62],[81,78,53,66],[81,88,53,76],[82,8,54,6],[83,8,55,6],[83,12,55,10],[83,13,55,11,"instrumentToUse"],[83,28,55,26],[83,30,55,28],[84,10,56,8,"instrumentToUse"],[84,25,56,23],[84,28,56,26],[84,35,56,32,"AsyncStorage"],[84,47,56,44],[84,48,56,44,"default"],[84,55,56,44],[84,56,56,45,"getItem"],[84,63,56,52],[84,64,56,53],[84,84,56,73],[84,85,56,74],[84,90,56,78,"undefined"],[84,99,56,87],[85,8,57,6],[86,8,59,6],[86,14,59,12,"response"],[86,22,59,20],[86,25,59,23],[86,31,59,29,"authApi"],[86,43,59,36],[86,44,59,36,"authApi"],[86,51,59,36],[86,52,59,37,"exchangeSession"],[86,67,59,52],[86,68,59,53,"sessionId"],[86,77,59,62],[86,79,59,64,"roleToUse"],[86,88,59,73],[86,90,59,75,"instrumentToUse"],[86,105,59,90],[86,109,59,94,"undefined"],[86,118,59,103],[86,119,59,104],[87,8,61,6],[87,12,61,10,"response"],[87,20,61,18],[87,21,61,19,"session_token"],[87,34,61,32],[87,36,61,34],[88,10,62,8],[88,16,62,14,"AsyncStorage"],[88,28,62,26],[88,29,62,26,"default"],[88,36,62,26],[88,37,62,27,"setItem"],[88,44,62,34],[88,45,62,35],[88,60,62,50],[88,62,62,52,"response"],[88,70,62,60],[88,71,62,61,"session_token"],[88,84,62,74],[88,85,62,75],[89,10,63,8],[89,16,63,14,"AsyncStorage"],[89,28,63,26],[89,29,63,26,"default"],[89,36,63,26],[89,37,63,27,"removeItem"],[89,47,63,37],[89,48,63,38],[89,62,63,52],[89,63,63,53],[90,10,64,8],[90,16,64,14,"AsyncStorage"],[90,28,64,26],[90,29,64,26,"default"],[90,36,64,26],[90,37,64,27,"removeItem"],[90,47,64,37],[90,48,64,38],[90,68,64,58],[90,69,64,59],[91,10,65,8,"setUser"],[91,17,65,15],[91,18,65,16,"response"],[91,26,65,24],[91,27,65,25,"user"],[91,31,65,29],[91,32,65,30],[93,10,67,8],[94,10,68,8],[94,14,68,12],[95,12,69,10],[95,18,69,16,"seedApi"],[95,30,69,23],[95,31,69,23,"seedApi"],[95,38,69,23],[95,39,69,24,"seed"],[95,43,69,28],[95,44,69,29],[95,45,69,30],[96,12,70,10,"console"],[96,19,70,17],[96,20,70,18,"log"],[96,23,70,21],[96,24,70,22],[96,41,70,39],[96,42,70,40],[97,10,71,8],[97,11,71,9],[97,12,71,10],[97,19,71,17,"e"],[97,20,71,18],[97,22,71,20],[98,12,72,10,"console"],[98,19,72,17],[98,20,72,18,"log"],[98,23,72,21],[98,24,72,22],[98,54,72,52],[98,55,72,53],[99,10,73,8],[100,8,74,6],[101,6,75,4],[101,7,75,5],[101,8,75,6],[101,15,75,13,"error"],[101,20,75,18],[101,22,75,20],[102,8,76,6,"console"],[102,15,76,13],[102,16,76,14,"error"],[102,21,76,19],[102,22,76,20],[102,49,76,47],[102,51,76,49,"error"],[102,56,76,54],[102,57,76,55],[103,6,77,4],[104,4,78,2],[104,5,78,3],[105,4,80,2],[105,10,80,8,"checkExistingSession"],[105,30,80,28],[105,33,80,31],[105,39,80,31,"checkExistingSession"],[105,40,80,31],[105,45,80,43],[106,6,81,4],[106,10,81,8],[107,8,82,6],[107,14,82,12,"token"],[107,19,82,17],[107,22,82,20],[107,28,82,26,"AsyncStorage"],[107,40,82,38],[107,41,82,38,"default"],[107,48,82,38],[107,49,82,39,"getItem"],[107,56,82,46],[107,57,82,47],[107,72,82,62],[107,73,82,63],[108,8,83,6],[108,12,83,10,"token"],[108,17,83,15],[108,19,83,17],[109,10,84,8],[109,16,84,14,"userData"],[109,24,84,22],[109,27,84,25],[109,33,84,31,"authApi"],[109,45,84,38],[109,46,84,38,"authApi"],[109,53,84,38],[109,54,84,39,"getMe"],[109,59,84,44],[109,60,84,45],[109,61,84,46],[110,10,85,8,"setUser"],[110,17,85,15],[110,18,85,16,"userData"],[110,26,85,24],[110,27,85,25],[111,8,86,6],[112,6,87,4],[112,7,87,5],[112,8,87,6],[112,15,87,13,"error"],[112,20,87,18],[112,22,87,20],[113,8,88,6,"console"],[113,15,88,13],[113,16,88,14,"log"],[113,19,88,17],[113,20,88,18],[113,41,88,39],[113,42,88,40],[114,8,89,6],[114,14,89,12,"AsyncStorage"],[114,26,89,24],[114,27,89,24,"default"],[114,34,89,24],[114,35,89,25,"removeItem"],[114,45,89,35],[114,46,89,36],[114,61,89,51],[114,62,89,52],[115,6,90,4],[116,4,91,2],[116,5,91,3],[117,4,93,2],[117,8,93,2,"useEffect"],[117,14,93,11],[117,15,93,11,"useEffect"],[117,24,93,11],[117,26,93,12],[117,32,93,18],[118,6,94,4],[118,12,94,10,"init"],[118,16,94,14],[118,19,94,17],[118,25,94,17,"init"],[118,26,94,17],[118,31,94,29],[119,8,95,6,"setIsLoading"],[119,20,95,18],[119,21,95,19],[119,25,95,23],[119,26,95,24],[121,8,97,6],[122,8,98,6],[122,12,98,10,"Platform"],[122,20,98,18],[122,21,98,18,"default"],[122,28,98,18],[122,29,98,19,"OS"],[122,31,98,21],[122,36,98,26],[122,41,98,31],[122,45,98,35],[122,52,98,42,"window"],[122,58,98,48],[122,63,98,53],[122,74,98,64],[122,76,98,66],[123,10,99,8],[123,16,99,14,"hash"],[123,20,99,18],[123,23,99,21,"window"],[123,29,99,27],[123,30,99,28,"location"],[123,38,99,36],[123,39,99,37,"hash"],[123,43,99,41],[124,10,100,8],[124,16,100,14,"sessionIdMatch"],[124,30,100,28],[124,33,100,31,"hash"],[124,37,100,35],[124,38,100,36,"match"],[124,43,100,41],[124,44,100,42],[124,64,100,62],[124,65,100,63],[125,10,101,8],[125,14,101,12,"sessionIdMatch"],[125,28,101,26],[125,30,101,28],[126,12,102,10],[126,18,102,16,"processSessionId"],[126,34,102,32],[126,35,102,33,"sessionIdMatch"],[126,49,102,47],[126,50,102,48],[126,51,102,49],[126,52,102,50],[126,53,102,51],[127,12,103,10,"window"],[127,18,103,16],[127,19,103,17,"history"],[127,26,103,24],[127,27,103,25,"replaceState"],[127,39,103,37],[127,40,103,38],[127,41,103,39],[127,42,103,40],[127,44,103,42,"document"],[127,52,103,50],[127,53,103,51,"title"],[127,58,103,56],[127,60,103,58,"window"],[127,66,103,64],[127,67,103,65,"location"],[127,75,103,73],[127,76,103,74,"pathname"],[127,84,103,82],[127,85,103,83],[128,10,104,8],[128,11,104,9],[128,17,104,15],[129,12,105,10],[129,18,105,16,"checkExistingSession"],[129,38,105,36],[129,39,105,37],[129,40,105,38],[130,10,106,8],[131,8,107,6],[131,9,107,7],[131,15,107,13],[132,10,108,8],[133,10,109,8],[133,16,109,14,"initialUrl"],[133,26,109,24],[133,29,109,27],[133,35,109,33,"Linking"],[133,42,109,40],[133,43,109,41,"getInitialURL"],[133,56,109,54],[133,57,109,55],[133,58,109,56],[134,10,110,8],[134,14,110,12,"initialUrl"],[134,24,110,22],[134,26,110,24],[135,12,111,10],[135,18,111,16,"sessionIdMatch"],[135,32,111,30],[135,35,111,33,"initialUrl"],[135,45,111,43],[135,46,111,44,"match"],[135,51,111,49],[135,52,111,50],[135,72,111,70],[135,73,111,71],[136,12,112,10],[136,16,112,14,"sessionIdMatch"],[136,30,112,28],[136,32,112,30],[137,14,113,12],[137,20,113,18,"processSessionId"],[137,36,113,34],[137,37,113,35,"sessionIdMatch"],[137,51,113,49],[137,52,113,50],[137,53,113,51],[137,54,113,52],[137,55,113,53],[138,12,114,10],[138,13,114,11],[138,19,114,17],[139,14,115,12],[139,20,115,18,"checkExistingSession"],[139,40,115,38],[139,41,115,39],[139,42,115,40],[140,12,116,10],[141,10,117,8],[141,11,117,9],[141,17,117,15],[142,12,118,10],[142,18,118,16,"checkExistingSession"],[142,38,118,36],[142,39,118,37],[142,40,118,38],[143,10,119,8],[144,8,120,6],[145,8,122,6,"setIsLoading"],[145,20,122,18],[145,21,122,19],[145,26,122,24],[145,27,122,25],[146,6,123,4],[146,7,123,5],[147,6,125,4,"init"],[147,10,125,8],[147,11,125,9],[147,12,125,10],[148,4,126,2],[148,5,126,3],[148,7,126,5],[148,9,126,7],[148,10,126,8],[149,4,128,2],[149,10,128,8,"login"],[149,15,128,13],[149,18,128,16],[149,24,128,16,"login"],[149,25,128,23,"role"],[149,29,128,36],[149,31,128,38,"instrument"],[149,41,128,57],[149,46,128,62],[150,6,129,4],[151,6,130,4],[151,12,130,10,"roleToUse"],[151,21,130,19],[151,24,130,22,"role"],[151,28,130,26],[151,32,130,30,"selectedRole"],[151,44,130,42],[151,48,130,46],[151,58,130,56],[152,6,131,4],[152,12,131,10,"instrumentToUse"],[152,27,131,25],[152,30,131,28,"instrument"],[152,40,131,38],[152,44,131,42,"selectedInstrument"],[152,62,131,60],[153,6,133,4],[153,12,133,10,"AsyncStorage"],[153,24,133,22],[153,25,133,22,"default"],[153,32,133,22],[153,33,133,23,"setItem"],[153,40,133,30],[153,41,133,31],[153,55,133,45],[153,57,133,47,"roleToUse"],[153,66,133,56],[153,67,133,57],[154,6,134,4],[154,10,134,8,"instrumentToUse"],[154,25,134,23],[154,27,134,25],[155,8,135,6],[155,14,135,12,"AsyncStorage"],[155,26,135,24],[155,27,135,24,"default"],[155,34,135,24],[155,35,135,25,"setItem"],[155,42,135,32],[155,43,135,33],[155,63,135,53],[155,65,135,55,"instrumentToUse"],[155,80,135,70],[155,81,135,71],[156,6,136,4],[157,6,138,4],[157,12,138,10,"redirectUrl"],[157,23,138,21],[157,26,138,24,"Platform"],[157,34,138,32],[157,35,138,32,"default"],[157,42,138,32],[157,43,138,33,"OS"],[157,45,138,35],[157,50,138,40],[157,55,138,45],[157,58,139,8],[157,61,139,11,"BACKEND_URL"],[157,72,139,22],[157,75,139,25],[157,78,140,8,"Linking"],[157,85,140,15],[157,86,140,16,"createURL"],[157,95,140,25],[157,96,140,26],[157,99,140,29],[157,100,140,30],[158,6,142,4],[158,12,142,10,"authUrl"],[158,19,142,17],[158,22,142,20],[158,66,142,64,"encodeURIComponent"],[158,84,142,82],[158,85,142,83,"redirectUrl"],[158,96,142,94],[158,97,142,95],[158,99,142,97],[159,6,144,4],[159,10,144,8,"Platform"],[159,18,144,16],[159,19,144,16,"default"],[159,26,144,16],[159,27,144,17,"OS"],[159,29,144,19],[159,34,144,24],[159,39,144,29],[159,41,144,31],[160,8,145,6,"window"],[160,14,145,12],[160,15,145,13,"location"],[160,23,145,21],[160,24,145,22,"href"],[160,28,145,26],[160,31,145,29,"authUrl"],[160,38,145,36],[161,6,146,4],[161,7,146,5],[161,13,146,11],[162,8,147,6],[162,14,147,12,"result"],[162,20,147,18],[162,23,147,21],[162,29,147,27,"WebBrowser"],[162,39,147,37],[162,40,147,38,"openAuthSessionAsync"],[162,60,147,58],[162,61,147,59,"authUrl"],[162,68,147,66],[162,70,147,68,"redirectUrl"],[162,81,147,79],[162,82,147,80],[163,8,149,6],[163,12,149,10,"result"],[163,18,149,16],[163,19,149,17,"type"],[163,23,149,21],[163,28,149,26],[163,37,149,35],[163,41,149,39,"result"],[163,47,149,45],[163,48,149,46,"url"],[163,51,149,49],[163,53,149,51],[164,10,150,8],[164,16,150,14,"sessionIdMatch"],[164,30,150,28],[164,33,150,31,"result"],[164,39,150,37],[164,40,150,38,"url"],[164,43,150,41],[164,44,150,42,"match"],[164,49,150,47],[164,50,150,48],[164,70,150,68],[164,71,150,69],[165,10,151,8],[165,14,151,12,"sessionIdMatch"],[165,28,151,26],[165,30,151,28],[166,12,152,10,"setIsLoading"],[166,24,152,22],[166,25,152,23],[166,29,152,27],[166,30,152,28],[167,12,153,10],[167,18,153,16,"processSessionId"],[167,34,153,32],[167,35,153,33,"sessionIdMatch"],[167,49,153,47],[167,50,153,48],[167,51,153,49],[167,52,153,50],[167,54,153,52,"roleToUse"],[167,63,153,61],[167,65,153,63,"instrumentToUse"],[167,80,153,78],[167,84,153,82,"undefined"],[167,93,153,91],[167,94,153,92],[168,12,154,10,"setIsLoading"],[168,24,154,22],[168,25,154,23],[168,30,154,28],[168,31,154,29],[169,10,155,8],[170,8,156,6],[171,6,157,4],[172,4,158,2],[172,5,158,3],[173,4,160,2],[173,10,160,8,"logout"],[173,16,160,14],[173,19,160,17],[173,25,160,17,"logout"],[173,26,160,17],[173,31,160,29],[174,6,161,4],[174,10,161,8],[175,8,162,6],[175,14,162,12,"authApi"],[175,26,162,19],[175,27,162,19,"authApi"],[175,34,162,19],[175,35,162,20,"logout"],[175,41,162,26],[175,42,162,27],[175,43,162,28],[176,6,163,4],[176,7,163,5],[176,8,163,6],[176,15,163,13,"error"],[176,20,163,18],[176,22,163,20],[177,8,164,6,"console"],[177,15,164,13],[177,16,164,14,"error"],[177,21,164,19],[177,22,164,20],[177,37,164,35],[177,39,164,37,"error"],[177,44,164,42],[177,45,164,43],[178,6,165,4],[179,6,166,4],[179,12,166,10,"AsyncStorage"],[179,24,166,22],[179,25,166,22,"default"],[179,32,166,22],[179,33,166,23,"removeItem"],[179,43,166,33],[179,44,166,34],[179,59,166,49],[179,60,166,50],[180,6,167,4],[180,12,167,10,"AsyncStorage"],[180,24,167,22],[180,25,167,22,"default"],[180,32,167,22],[180,33,167,23,"removeItem"],[180,43,167,33],[180,44,167,34],[180,58,167,48],[180,59,167,49],[181,6,168,4],[181,12,168,10,"AsyncStorage"],[181,24,168,22],[181,25,168,22,"default"],[181,32,168,22],[181,33,168,23,"removeItem"],[181,43,168,33],[181,44,168,34],[181,64,168,54],[181,65,168,55],[182,6,169,4,"setUser"],[182,13,169,11],[182,14,169,12],[182,18,169,16],[182,19,169,17],[183,6,170,4,"setSelectedRole"],[183,21,170,19],[183,22,170,20],[183,26,170,24],[183,27,170,25],[184,6,171,4,"setSelectedInstrument"],[184,27,171,25],[184,28,171,26],[184,32,171,30],[184,33,171,31],[185,4,172,2],[185,5,172,3],[186,4,174,2],[186,10,174,8,"refreshUser"],[186,21,174,19],[186,24,174,22],[186,30,174,22,"refreshUser"],[186,31,174,22],[186,36,174,34],[187,6,175,4],[187,10,175,8],[188,8,176,6],[188,14,176,12,"userData"],[188,22,176,20],[188,25,176,23],[188,31,176,29,"authApi"],[188,43,176,36],[188,44,176,36,"authApi"],[188,51,176,36],[188,52,176,37,"getMe"],[188,57,176,42],[188,58,176,43],[188,59,176,44],[189,8,177,6,"setUser"],[189,15,177,13],[189,16,177,14,"userData"],[189,24,177,22],[189,25,177,23],[190,6,178,4],[190,7,178,5],[190,8,178,6],[190,15,178,13,"error"],[190,20,178,18],[190,22,178,20],[191,8,179,6,"console"],[191,15,179,13],[191,16,179,14,"error"],[191,21,179,19],[191,22,179,20],[191,46,179,44],[191,48,179,46,"error"],[191,53,179,51],[191,54,179,52],[192,6,180,4],[193,4,181,2],[193,5,181,3],[194,4,183,2],[194,24,184,4],[194,28,184,4,"_reactJsxDevRuntime"],[194,47,184,4],[194,48,184,4,"jsxDEV"],[194,54,184,4],[194,56,184,5,"AuthContext"],[194,67,184,16],[194,68,184,17,"Provider"],[194,76,184,25],[195,6,185,6,"value"],[195,11,185,11],[195,13,185,13],[196,8,186,8,"user"],[196,12,186,12],[197,8,187,8,"isLoading"],[197,17,187,17],[198,8,188,8,"isAuthenticated"],[198,23,188,23],[198,25,188,25],[198,26,188,26],[198,27,188,27,"user"],[198,31,188,31],[199,8,189,8,"selectedRole"],[199,20,189,20],[200,8,190,8,"selectedInstrument"],[200,26,190,26],[201,8,191,8,"setSelectedRole"],[201,23,191,23],[202,8,192,8,"setSelectedInstrument"],[202,29,192,29],[203,8,193,8,"login"],[203,13,193,13],[204,8,194,8,"logout"],[204,14,194,14],[205,8,195,8,"refreshUser"],[206,6,196,6],[206,7,196,8],[207,6,196,8,"children"],[207,14,196,8],[207,16,198,7,"children"],[208,4,198,15],[209,6,198,15,"fileName"],[209,14,198,15],[209,16,198,15,"_jsxFileName"],[209,28,198,15],[210,6,198,15,"lineNumber"],[210,16,198,15],[211,6,198,15,"columnNumber"],[211,18,198,15],[212,4,198,15],[212,11,199,26],[212,12,199,27],[213,2,201,0],[213,3,201,1],[214,2,201,2,"_s2"],[214,5,201,2],[214,6,38,13,"AuthProvider"],[214,18,38,54],[215,2,38,54,"_c"],[215,4,38,54],[215,7,38,13,"AuthProvider"],[215,19,38,54],[216,2,38,54],[216,6,38,54,"_c"],[216,8,38,54],[217,2,38,54,"$RefreshReg$"],[217,14,38,54],[217,15,38,54,"_c"],[217,17,38,54],[218,0,38,54],[218,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","processSessionId","checkExistingSession","useEffect$argument_0","init","login","logout","refreshUser"],"mappings":"AAA;uBCyB;CDM;yDEM;2BCM;GDkC;+BEE;GFW;YGE;iBCC;KD6B;GHG;gBKE;GL8B;iBME;GNY;sBOE;GPO;CFoB"},"hasCjsExports":false},"type":"js/module"}]}